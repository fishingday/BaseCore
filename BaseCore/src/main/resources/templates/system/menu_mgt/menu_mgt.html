<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/default_layout}">
	<head>
	  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	  <title>메뉴관리</title>
	</head>
    <body>
      <!-- Content 시작 -->
      <div layout:fragment="content" class="col">
        <div class="row">
          <div class="col-5">
            <table 
              id="table"
              data-click-to-select="true"
              th:data-url="@{/system/menu_mgt/menu_info_list.json}">				
			      </table>
          </div>
          <div class="col-7">
			  
          </div>
        </div>
        <!-- modal -->
        <div class="modal-staging">
            
        
        </div>
        <!-- modal -->
      </div>
      <script language="javascript" type="text/javascript" layout:fragment="page_script">
			  var $table = $('#table');
			
			  $(function() {
			    $table.bootstrapTable({
					  height: 600,
					  locale: 'ko-KR',
			      idField: 'menuSeq',
			      parentIdField: 'upMenuSeq',
			      treeShowField: 'menuNm',
            classes: 'table table-bordered table-hover',
            headerStyle : function(){
              return {classes: 'table-primary'};
            },
			      columns: [
			        {field: 'radio',     radio: true, class: 'table-primary', formatter:function(value, row, index){
                if(index === 0){
                  //$("#tabCodeList").click();
                  //fnObj.action.chooseGrpCd(row);
                  return {checked: true}
                }
              }},
			        {
			          field: 'menuNm',
			          title: '메뉴명'
			        },
			        {
			          field: 'roleNames',
			          title: '역할',
			          align: 'center'
			        }
			      ],
            responseHandler: function (data) { // 데이터 처리
              return data;
            },
			      onPostBody: function() {
			        var columns = $table.bootstrapTable('getOptions').columns
			
			        if (columns && columns[0][1].visible) {
			          $table.treegrid({
			            treeColumn: 1,
			            onChange: function() {
			              $table.bootstrapTable('resetView')
			            }
			          })
			        }
			      }
			    })
			  })
		  
        var fnObj = {
          pageStart:  function(){ // 페이지 초기 실행 스크립트
            fnObj.page.init();
            fnObj.grid.init();
          },
          page: {
            init: function(){
				
            }
          },
          action: { // 호출이나 화면 동작
            
          },
          grid: { // 그리드 관련
            init: function() {
				
            }
          }
        }
        // 페이지 초기 쿼리를 실행한다.
        $(document.body).ready(function () {
          fnObj.pageStart();
        });
      </script>
    <!-- Content 종료 -->
    </body>
</html>