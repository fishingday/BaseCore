<html lagn="ko" 
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
	
	<div th:fragment="headerFragment">
	    <script th:src="@{/webjars/jquery/3.6.4/jquery.min.js}"></script>
	    <script th:src="@{/webjars/font-awesome/6.4.0/js/all.min.js}"></script>
	    <script th:src="@{/webjars/bootstrap/5.3.0/js/bootstrap.min.js}"></script>
	    <script th:src="@{/webjars/jquery-i18n-properties/1.10.2/jquery.i18n.properties.min.js}"></script>
	    <link rel="stylesheet" th:href="@{/css/base.css}" />
	    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.3.0/css/bootstrap.min.css}" />
	    <link rel="stylesheet" th:href="@{/webjars/font-awesome/6.4.0/css/all.min.css}" />
	</div>
	
	<div th:fragment="topFragment">
	    <nav class="navbar navbar-dark sticky-top bg-dark ">
			<div class="container">
				<ul class="nav justify-content-end">
					<th:block sec:authorize="isAuthenticated()" th:with="auth=${#authentication.principal}">
						<li class="nav-item" ><a class="nav-link text-light" href="/"><span th:text="${auth.cmUser.userNm}"></span>님 환영합니다.</a></li>
						<li class="nav-item" ><a class="nav-link text-light" href="/">현재 권한은 <b>[[${auth.currRole.roleNm}]]</b> 입니다.</a></li>
						<li class="nav-item" ><a class="nav-link text-light" href="/">로그인시간 :<div th:text="${#temporals.format(auth.cmUser.loginDt, 'yyyy.MM.dd HH:mm:ss')}"></div></a></li>
					</th:block>
				</ul>
			</div>
	        <div class="container">
	            <a class="text-light" href="#"><h4>Core Base</h4></a>
	            <ul class="nav justify-content-end">
					<th:block sec:authorize="isAuthenticated()" th:each="topMenu : ${#authentication.principal.myMenu.topMenuList}">
						<li class="nav-item"><a class="nav-link text-light" th:href="@{${topMenu.firstMenu.menuPath}}"><span th:text="${topMenu.menuNm}"></span></a></li>
					</th:block>
	                <li class="nav-item" sec:authorize="isAnonymous()"><a class="nav-link text-light" th:href="@{/common/login.html}">로그인</a></li>
	                <li class="nav-item" sec:authorize="isAnonymous()"><a class="nav-link text-light" th:href="@{/users}">회원가입</a></li>
	                <li class="nav-item" sec:authorize="isAuthenticated()"><a class="nav-link text-light" th:href="@{/common/logout.html}">로그아웃</a></li>
	                <li class="nav-item" sec:authorize="hasAuthority('ROLE_ADMIN')"><a class="nav-link text-light" th:href="@{/admin}">관리자</a></li>
	                <li class="nav-item" ><a class="nav-link text-light" href="/">HOME</a></li>
	            </ul>
	        </div>
	    </nav>
	</div>
	
	<div th:fragment="footerFragment" class="footerWrap" >
		<div class="footer" >
			<ul class="floatLeft">
			  <li><a class="footerVersion">버전정보 : Ver 1.0</a> </li>
			</ul>
			<ul class="floatRight">
			  <li><p class="footerCopy">Copy Right @ 2023</p></li>
			</ul>
		</div>
	</div>
	
</html>